# this package is a little peculiar and different from the other packages
@INCLUDE = ${CGAL_DOC_PACKAGE_DEFAULTS}
PROJECT_NAME = "CGAL ${CGAL_DOC_VERSION} - Manual"
PROJECT_BRIEF       =
OUTPUT_DIRECTORY    = ${CGAL_DOC_OUTPUT_DIR}/Manual

INPUT = ${CGAL_PACKAGE_DOC_DIR} \
        ${CMAKE_BINARY_DIR}/how_to_cite_cgal.txt

# 检查是否存在 doxygen-awesome-css
!IF EXISTS("${CMAKE_SOURCE_DIR}/doxygen-awesome-css")
# Doxygen Awesome Sidebar-Only Theme 配置
GENERATE_TREEVIEW      = YES
DISABLE_INDEX          = NO
FULL_SIDEBAR          = NO
HTML_COLORSTYLE       = LIGHT
HTML_COPY_CLIPBOARD   = NO

# 基础样式表和侧边栏样式表
HTML_EXTRA_STYLESHEET  = ${CMAKE_SOURCE_DIR}/doxygen-awesome-css/doxygen-awesome.css \
                        ${CMAKE_SOURCE_DIR}/doxygen-awesome-css/doxygen-awesome-sidebar-only.css

# JavaScript 扩展文件
HTML_EXTRA_FILES      = ${CMAKE_SOURCE_DIR}/doxygen-awesome-css/doxygen-awesome-darkmode-toggle.js \
                       ${CMAKE_SOURCE_DIR}/doxygen-awesome-css/doxygen-awesome-fragment-copy-button.js \
                       ${CMAKE_SOURCE_DIR}/doxygen-awesome-css/doxygen-awesome-paragraph-link.js \
                       ${CMAKE_SOURCE_DIR}/doxygen-awesome-css/doxygen-awesome-interactive-toc.js

# 使用自定义头部
HTML_HEADER           = ${CGAL_PACKAGE_DOC_DIR}/custom_header.html

# 搜索功能
SEARCHENGINE          = YES
SERVER_BASED_SEARCH   = NO

# 其他必要配置
GENERATE_HTML         = YES
HTML_DYNAMIC_SECTIONS = NO
HAVE_DOT             = YES
DOT_IMAGE_FORMAT     = svg
INTERACTIVE_SVG      = YES

!ELSE
# 使用默认主题
HTML_HEADER         = ${CGAL_DOC_HEADER}
!ENDIF

LAYOUT_FILE         = ${CGAL_DOC_RESOURCE_DIR}/DoxygenLayout.xml
GENERATE_TAGFILE    = ${CGAL_DOC_TAG_GEN_DIR}/Manual.tag
EXAMPLE_PATH        = ${CGAL_Convex_hull_2_EXAMPLE_DIR} \
                      ${CGAL_Kernel_23_EXAMPLE_DIR} \
                      ${CGAL_Poisson_surface_reconstruction_3_EXAMPLE_DIR} \
                      ${CGAL_Surface_mesh_EXAMPLE_DIR} \
                      ${CGAL_Classification_EXAMPLE_DIR}
FILTER_PATTERNS     = *.txt=${CMAKE_BINARY_DIR}/pkglist_filter

HTML_EXTRA_FILES += ${CGAL_DOC_RESOURCE_DIR}/hacks.js \
                    ${CGAL_DOC_RESOURCE_DIR}/menu_version.js \
                    ${CMAKE_BINARY_DIR}/how_to_cite_cgal.bib \
                    ${CMAKE_BINARY_DIR}/how_to_cite.html \
                    ${CGAL_PACKAGE_DOC_DIR}/fig/g-196x196-doc.png

ALLEXTERNALS             = true
EXTERNAL_GROUPS          = false
GENERATE_TODOLIST        = false
GENERATE_DEPRECATEDLIST  = false
GENERATE_TESTLIST        = false
GENERATE_BUGLIST         = false
SEARCHENGINE             = true

ALIASES                 += "cgalPkgDescriptionBegin{2}=\subsection \2 \1"
ALIASES                 += "cgalPkgManuals{2}=<div class=\"PkgManuals\"> <span> \ref \1 \"User Manual\" </span> <span style=\"padding-left: 20px;\">\ref \2 \"Reference Manual\" </span> </div>"
ALIASES                 += "cgalReleaseNumber=${CGAL_DOC_VERSION}"
